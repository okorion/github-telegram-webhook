<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>í…”ë ˆê·¸ë¨ ì—°ê²° í…ŒìŠ¤íŠ¸</title>
  </head>
  <body>
    <h2>ğŸ“¬ Telegram ì—°ê²° í™•ì¸</h2>
    <button onclick="sendTest()">ë©”ì‹œì§€ ì „ì†¡ í…ŒìŠ¤íŠ¸</button>
    <p id="result"></p>

    <h2>ğŸ±â€ğŸ Message í¬ë§·íŒ… í™•ì¸</h2>
    <button onclick="sendFormatAndGenerateMessageTest()">
      Dummy Payload ì „ì†¡ í…ŒìŠ¤íŠ¸
    </button>
    <p id="messageResult"></p>

    <script>
      async function sendTest() {
        const result = document.getElementById("result");
        try {
          const res = await fetch("/test/telegram", { method: "POST" });
          const json = await res.json();
          result.textContent = json.message;
          result.style.fontWeight = "bold";
        } catch (e) {
          result.style.color = "red";
          result.style.fontWeight = "bold";
          result.textContent = "ì—ëŸ¬ ë°œìƒ: " + e.message;
        }
      }

      async function sendFormatAndGenerateMessageTest() {
        const result = document.getElementById("messageResult");
        try {
          const res = await fetch("/test/format-and-generate", {
            method: "POST",
          });
          const json = await res.json();
          result.textContent = json.message;
          result.style.fontWeight = "bold";
        } catch (e) {
          result.style.color = "red";
          result.style.fontWeight = "bold";
          result.textContent = "ì—ëŸ¬ ë°œìƒ: " + e.message;
        }
      }
    </script>
  </body>
</html>
